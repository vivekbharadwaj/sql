CREATE TABLE test_bed (
    i INTEGER,
    j INTEGER
);

INSERT INTO test_bed(i,j)
VALUES 
(1,11),
(1,12),
(1,13),
(2,21),
(2,22),
(2,23),
(3,31),
(3,32),
(3,33),
(4,14)
;

+------+------+
|    i |    j |
+------+------+
|    1 |   11 |
|    1 |   12 |
|    1 |   13 |
|    2 |   21 |
|    2 |   22 |
|    2 |   23 |
|    3 |   31 |
|    3 |   32 |
|    3 |   33 |
|    4 |   14 |
+------+------+


SELECT a.i, a.j, count(*) as row_number FROM test_bed a
JOIN test_bed b ON a.i = b.i AND a.j >= b.j
GROUP BY a.i, a.j

+------+------+------------+
|    i |    j | row_number |
+------+------+------------+
|    1 |   11 |          1 |
|    1 |   12 |          2 |
|    1 |   13 |          3 |
|    2 |   21 |          1 |
|    2 |   22 |          2 |
|    2 |   23 |          3 |
|    3 |   31 |          1 |
|    3 |   32 |          2 |
|    3 |   33 |          3 |
|    4 |   14 |          1 |
+------+------+------------+
